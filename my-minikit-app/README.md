# Creator Growth Hub

A powerful mini-app for Farcaster creators to find collaborators, analyze their audience, and grow together. Built with MiniKit and running inside Base App.

## Features

### üéØ Collab Finder
- **AI-powered recommendations** based on audience overlap and engagement patterns
- **Collab Score algorithm** using 5 key signals:
  - Audience overlap (Jaccard similarity)
  - Engagement affinity (cosine similarity)
  - Topic similarity (TF-IDF)
  - Audience quality (Neynar user scores)
  - Recent momentum (engagement growth)
- **Transparent reasoning** for each recommendation
- **One-click collaboration invites**

### üìä Social Graph Analytics
- **Audience overlap visualization** with chord diagrams
- **Engagement heatmaps** showing best posting times
- **Audience interest breakdown** by channels
- **Trending followers** with quality scores
- **Best posting windows** calculated from your data

### üèÜ Engagement Leaderboard
- **Top fans ranking** with weighted scoring
- **Contribution breakdown** (replies, likes, recasts, tips)
- **Trend indicators** vs previous periods
- **Fan badges** (Crown, Gold, Silver)
- **Monthly rewards** system

## Tech Stack

- **Frontend**: Next.js 15, React 18, TypeScript
- **Styling**: Tailwind CSS, Lucide React icons
- **Charts**: Recharts for data visualization
- **Backend**: Next.js API routes
- **Data**: Neynar API for Farcaster data
- **Platform**: MiniKit for Base App integration
- **Deployment**: Vercel-ready

## Quick Start

### 1. Clone and Install

```bash
git clone <your-repo>
cd creator-growth-hub
npm install
```

### 2. Environment Setup

Create a `.env.local` file with your API keys:

```bash
# Neynar API Configuration
NEYNAR_API_KEY=your_neynar_api_key_here

# Farcaster Account Association (generated by create-onchain --manifest)
FARCASTER_HEADER=your_farcaster_header_here
FARCASTER_PAYLOAD=your_farcaster_payload_here
FARCASTER_SIGNATURE=your_farcaster_signature_here

# App Configuration
NEXT_PUBLIC_URL=http://localhost:3000
NEXT_PUBLIC_ONCHAINKIT_PROJECT_NAME=Creator Growth Hub
NEXT_PUBLIC_APP_SUBTITLE=Find collaborators, analyze your audience, and grow together
NEXT_PUBLIC_APP_DESCRIPTION=AI-powered collaboration platform for Farcaster creators
NEXT_PUBLIC_APP_ICON=https://creator-growth-hub.vercel.app/icon.png
NEXT_PUBLIC_APP_SPLASH_IMAGE=https://creator-growth-hub.vercel.app/splash.png
NEXT_PUBLIC_SPLASH_BACKGROUND_COLOR=#8B5CF6
NEXT_PUBLIC_APP_PRIMARY_CATEGORY=social
NEXT_PUBLIC_APP_HERO_IMAGE=https://creator-growth-hub.vercel.app/hero.png
NEXT_PUBLIC_APP_TAGLINE=Grow together on Farcaster
NEXT_PUBLIC_APP_OG_TITLE=Creator Growth Hub - Find Collaborators on Farcaster
NEXT_PUBLIC_APP_OG_DESCRIPTION=AI-powered collaboration platform for Farcaster creators
NEXT_PUBLIC_APP_OG_IMAGE=https://creator-growth-hub.vercel.app/og-image.png
```

### 3. Generate Manifest

```bash
npx create-onchain --manifest
```

This will generate the Farcaster account association values and add them to your `.env.local` file.

### 4. Run Development Server

```bash
npm run dev
```

Visit `http://localhost:3000` to see your mini-app.

## API Endpoints

### Core Endpoints

- `GET /api/profile/[fid]` - Get user profile and summary
- `GET /api/follows/[fid]` - Get followers/following (cached)
- `GET /api/overlap?fid=A&target=B` - Calculate Jaccard similarity
- `GET /api/collab/recs?fid=A` - Get collaboration recommendations
- `GET /api/leaderboard/[fid]` - Get top fans leaderboard
- `GET /api/analytics/[fid]` - Get engagement analytics

### Webhook Endpoints

- `POST /api/notify` - Handle Neynar webhooks for real-time updates

## Collab Score Algorithm

The collaboration recommendation algorithm uses a weighted combination of 5 signals:

```
score = 100 * (
  0.35 * overlap +
  0.20 * engagement_affinity +
  0.20 * topic_similarity +
  0.15 * audience_quality +
  0.10 * momentum
)
```

### Signal Details

1. **Audience Overlap** (35%): Jaccard similarity of follower sets
2. **Engagement Affinity** (20%): Cosine similarity of 168-dimensional hourly engagement vectors
3. **Topic Similarity** (20%): TF-IDF similarity of cast content and channel usage
4. **Audience Quality** (15%): Mean Neynar user score of shared followers
5. **Recent Momentum** (10%): Normalized 14-day engagement growth

## Leaderboard Scoring

Top fans are ranked using weighted contributions:

```
fan_score = 5 * replies + 2 * recasts + 1 * likes + 0.5 * tips_count + log1p(tips_value_usd)
```

## Deployment

### Vercel Deployment

1. Push your code to GitHub
2. Connect your repository to Vercel
3. Add environment variables in Vercel dashboard
4. Deploy!

### Environment Variables for Production

Make sure to set these in your Vercel dashboard:

- `NEYNAR_API_KEY`
- `FARCASTER_HEADER`
- `FARCASTER_PAYLOAD`
- `FARCASTER_SIGNATURE`
- `NEXT_PUBLIC_URL` (your production URL)

## Development

### Project Structure

```
app/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ CollabFinder.tsx    # Collaboration recommendations
‚îÇ   ‚îú‚îÄ‚îÄ Analytics.tsx       # Social graph analytics
‚îÇ   ‚îî‚îÄ‚îÄ Leaderboard.tsx     # Top fans leaderboard
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ profile/[fid]/      # User profile API
‚îÇ   ‚îú‚îÄ‚îÄ follows/[fid]/      # Followers/following API
‚îÇ   ‚îú‚îÄ‚îÄ overlap/            # Overlap calculation API
‚îÇ   ‚îú‚îÄ‚îÄ collab/recs/        # Collaboration recommendations API
‚îÇ   ‚îî‚îÄ‚îÄ notify/             # Webhook handler
‚îî‚îÄ‚îÄ .well-known/
    ‚îî‚îÄ‚îÄ farcaster.json/     # Farcaster manifest
lib/
‚îú‚îÄ‚îÄ collabScore.ts          # Collaboration scoring algorithm
‚îî‚îÄ‚îÄ neynar.ts              # Neynar API integration
```

### Adding New Features

1. **New API Endpoint**: Add route in `app/api/`
2. **New Component**: Add in `app/components/`
3. **New Algorithm**: Add utility in `lib/`
4. **New UI**: Update main page in `app/page.tsx`

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests if applicable
5. Submit a pull request

## License

MIT License - see LICENSE file for details.

## Support

- **Documentation**: [Base App Docs](https://docs.base.org)
- **Neynar API**: [Neynar Docs](https://docs.neynar.com)
- **MiniKit**: [MiniKit Docs](https://docs.base.org/base-app/build-with-minikit/quickstart)

---

Built with ‚ù§Ô∏è for the Farcaster community
